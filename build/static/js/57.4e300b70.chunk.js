(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[57],{1389:function(e,t,c){"use strict";c.r(t);var s=c(701),a=c(528),i=c(663),n=c(538),l=c(534),d=c(682),r=c.n(d),j=c(556),o=c(572),b=c(516),m=c(179),x=c(224),h=c(518),O=c(102),u=c(621),y=c(316),f=c(0),v=c(132),g=c(600),p=c(130),w=(c(1074),c(564)),k=c.n(w),I=c(1);t.default=()=>{const e=Object(g.useHistory)(),t=Object(g.useParams)(),[c,d]=Object(f.useState)([]),w=[{title:"Event ID",dataIndex:"id",key:"id",render:e=>Object(I.jsxs)("div",{children:["#",e]})},{title:"Date Received",dataIndex:"created_at",key:"created_at",render:e=>Object(I.jsx)("div",{children:k()(e).format("DD-MM-YYYY")})},{title:"Date Requested",dataIndex:"created_at",key:"created_at",render:e=>Object(I.jsx)("div",{children:k()(e).format("DD-MM-YYYY")})},{title:"Status",dataIndex:"status",key:"status",render:e=>Object(I.jsx)(j.a,{color:"Pending"===e?"yellow":"green",children:e||"Submitted"})},{title:"Action",key:"action",render:(e,t)=>Object(I.jsx)(o.b,{size:"middle",children:Object(I.jsx)(b.a,{overlay:D(t),trigger:["hover"],children:Object(I.jsx)(s.a,{})})})}],D=e=>Object(I.jsxs)(m.a,{children:[Object(I.jsxs)(m.a.Item,{onClick:()=>N(e.id),children:[Object(I.jsx)(a.a,{})," Edit"]},"edit"),Object(I.jsxs)(m.a.Item,{onClick:()=>Y(e.id),children:[Object(I.jsx)(i.a,{})," Delete"]},"view")]}),N=async t=>{e.push(`/app/machine-and-sensors/machine-details/life-cycle-management/edit-life-cycle-event/${t}`)},Y=async e=>{console.log("fetch called");const t=await p.axiosInstance.delete(`api/admin/life-cycle-event/${e}/delete`);console.log(t.data.items),t.data.status?(x.b.success("Event deleted successfully"),E()):x.b.success("Event cannot be deleted")},E=async()=>{let e=(await p.axiosInstance.get(`api/admin/life-cycle-event/list?machine_id=${t.id}`)).data.items;e&&d([...e])};return Object(f.useEffect)((()=>{E()}),[]),Object(I.jsxs)("div",{children:[Object(I.jsxs)("h4",{children:[" ",Object(I.jsx)(n.a,{}),Object(I.jsx)("span",{style:{color:"#6a6a6a",fontWeight:"300"},children:" Machine & Sensors / Sensors"})," / Past Analysis "]}),Object(I.jsxs)("div",{className:"d-flex justify-content-between mb-3 mt-4",children:[Object(I.jsxs)("div",{className:"",style:{display:"flex"},children:[Object(I.jsx)(o.b,{direction:"vertical",children:Object(I.jsx)(h.a,{placeholder:"Search",allowClear:!0,onChange:e=>{},style:{width:200},prefix:Object(I.jsx)(l.a,{style:{marginRight:8}})})}),Object(I.jsx)(O.a,{icon:Object(I.jsx)(r.a,{component:y.e}),className:"d-flex align-items-center ml-2",children:"Export"})]}),Object(I.jsxs)("div",{className:"mb-2 d-flex align-items-center",children:[Object(I.jsx)(O.a,{onClick:()=>{e.goBack()},className:"ml-3 d-flex align-items-center rounded font-weight-semibold px-4",children:"Back"}),Object(I.jsx)(O.a,{className:"ml-3 bg-primary d-flex align-items-center rounded text-white font-weight-semibold px-4",children:Object(I.jsx)(v.Link,{to:`/app/machine-and-sensors/machine-details/life-cycle-management/add-new-life-cycle-event/${t.id}`,children:"+ Add New Event"})})]})]}),Object(I.jsx)("div",{className:"mt-3",children:Object(I.jsx)(u.a,{columns:w,dataSource:c})})]})}}}]);
//# sourceMappingURL=57.4e300b70.chunk.js.map