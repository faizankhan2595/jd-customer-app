{"version":3,"sources":["views/app-views/notification/add_notification/index.js"],"names":["initialTargetKeys","Array","from","length","map","_","i","key","concat","title","description","filter","item","Number","AddBroadcast","_useState","useState","_useState2","_slicedToArray","notiTit","setNotiTit","_useState3","_useState4","notiDesc","setNotiDesc","location","useLocation","_useState5","_useState6","notiText","history","URLSearchParams","search","get","useHistory","_useState7","_useState8","targetKeys","submitFun","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","console","log","axiosInstance","post","sent","status","push","stop","apply","arguments","_jsx","_Fragment","children","_jsxs","className","BellOutlined","style","gap","Button","onClick","goBack","minHeight","Input","value","placeholder","onChange","e","target","TextArea"],"mappings":"0PAwDMA,EAPWC,MAAMC,KAAK,CAC1BC,OAAQ,KACPC,KAAI,SAACC,EAAGC,GAAC,MAAM,CAChBC,IAAI,UAADC,OAAYF,EAAI,GACnBG,MAAM,UAADD,OAAYF,EAAI,GACrBI,YAAY,yBAADF,OAA2BF,EAAI,OAGzCK,QAAO,SAACC,GAAI,OAAKC,OAAOD,EAAKL,KAAO,MACpCH,KAAI,SAACQ,GAAI,OAAKA,EAAKL,OA+FPO,UA7FM,WACnB,IAAAC,EAA8BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAnCI,EAAOF,EAAA,GAAEG,EAAUH,EAAA,GAC1BI,EAAgCL,mBAAS,IAAGM,EAAAJ,YAAAG,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GACtBG,EAAWC,wBACjBC,EAAgCX,mBAAS,IAAGY,EAAAV,YAAAS,EAAA,GAArCE,EAAQD,EAAA,GAGTE,GAHsBF,EAAA,GACR,IAAIG,gBAAgBN,EAASO,QAC1BC,IAAI,MACXC,wBAChBC,EAAoCnB,mBAAShB,GAAkBoC,EAAAlB,YAAAiB,EAAA,GAAxDE,EAAUD,EAAA,GACXE,GAD0BF,EAAA,GACjB,eAAAG,EAAAC,YAAAC,IAAAC,MAAG,SAAAC,IAAA,OAAAF,IAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAOe,OAD/BC,QAAQC,IAAIZ,GACZW,QAAQC,IAAI9B,EAASU,GAAUgB,EAAAE,KAAA,EAEZG,IAAcC,KAAK,iCAAkC,CACtE,MAAShC,EACT,YAAeI,EACf,OAAU,IACV,OACiB,KALTsB,EAAAO,KAKDC,QACPvB,EAAQwB,KAAK,uCACd,wBAAAT,EAAAU,UAAAZ,OACF,kBAjBc,OAAAJ,EAAAiB,MAAA,KAAAC,YAAA,IAgDf,OACEC,cAAAC,WAAA,CAAAC,SACEC,eAAA,OAAKC,UAAU,GAAEF,SAAA,CACfC,eAAA,MAAAD,SAAA,CAAI,IAACF,cAACK,IAAY,IAAG,oBACrBF,eAAA,OAAKG,MAAO,CAAEC,IAAK,OAASH,UAAU,6BAA4BF,SAAA,CAChEF,cAACQ,IAAM,CAACJ,UAAU,OAAOK,QAAS,kBAAMrC,EAAQsC,UAASR,SAAC,SAE1DF,cAACQ,IAAM,CAACJ,UAAU,6BAA6BK,QAAS7B,EAAUsB,SAAC,YAErEF,cAAA,OAAKI,UAAU,iFAAiFE,MAAO,CAAEK,UAAW,QAAST,SAC3HC,eAAA,OAAKC,UAAU,OAAMF,SAAA,CACnBF,cAAA,MAAAE,SAAI,uBACJF,cAACY,IAAK,CACJC,MAAOpD,EACPqD,YAAY,QACZC,SAAU,SAACC,GAAC,OAAKtD,EAAWsD,EAAEC,OAAOJ,UAEvCb,cAAA,MAAII,UAAU,OAAMF,SAAC,sBACrBF,cAACkB,IAAQ,CAACL,MAAOhD,EAAUkD,SAAU,SAACC,GAAC,OAAKlD,EAAYkD,EAAEC,OAAOJ,QAAQC,YAAY","file":"static/js/53.31016946.chunk.js","sourcesContent":["import { Button, Input, } from \"antd\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\nimport { BellOutlined } from \"@ant-design/icons\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport ReactQuill from \"react-quill\";\r\nimport \"react-quill/dist/quill.snow.css\";\r\n// import uploadImage from \"middleware/uploadImage\";\r\nimport axios from \"axios\";\r\nimport { API_BASE_URL } from \"constants/ApiConstant\";\r\nimport { axiosInstance } from \"App\";\r\nlet styles = {\r\n  files: {\r\n    listStyle: \"none\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-start\",\r\n    gap: \"13px\",\r\n    border: \"1px solid lightblue\",\r\n    padding: \"10px\",\r\n    borderRadius: \"9px\",\r\n    background: \"#0093ff0a\",\r\n  },\r\n  uploadFile: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    opacity: 0,\r\n  },\r\n\r\n  // Add the new styles here:\r\n\r\n  \".uploadFile::-webkit-file-upload-button\": {\r\n    visibility: \"hidden\",\r\n  },\r\n\r\n  \".uploadFile::before\": {\r\n    content: \"'Drag & Drop'\",\r\n    display: \"inline-block\",\r\n    padding: \"10px\",\r\n    border: \"1px solid #ccc\",\r\n    borderRadius: \"4px\",\r\n    cursor: \"pointer\",\r\n  },\r\n\r\n  \".uploadFile:hover::before\": {\r\n    backgroundColor: \"#ccc\",\r\n  },\r\n};\r\nconst mockData = Array.from({\r\n  length: 20,\r\n}).map((_, i) => ({\r\n  key: `content${i + 1}`,\r\n  title: `content${i + 1}`,\r\n  description: `description of content${i + 1}`,\r\n}));\r\nconst initialTargetKeys = mockData\r\n  .filter((item) => Number(item.key) > 10)\r\n  .map((item) => item.key);\r\n\r\nconst AddBroadcast = () => {\r\n  const [notiTit, setNotiTit] = useState(\"\");\r\n  const [notiDesc, setNotiDesc] = useState('')\r\n  const location = useLocation();\r\n  const [notiText, setNotiText] = useState(\"\");\r\n  const queryParams = new URLSearchParams(location.search);\r\n  const id = queryParams.get(\"id\");\r\n  const history = useHistory()\r\n  const [targetKeys, setTargetKeys] = useState(initialTargetKeys);\r\n  const submitFun = async () => {\r\n    // var url = [];\r\n    //   for (let i = 0; i < selectedFiles.length; i++) {\r\n    // const img = await uploadImage(selectedFiles);\r\n    //   url.push(img);\r\n    // }\r\n    console.log(targetKeys);\r\n    console.log(notiTit, notiText);\r\n\r\n    const res1 = await axiosInstance.post(`/api/admin/notifications/store`, {\r\n      \"title\": notiTit,\r\n      \"description\": notiDesc,\r\n      \"status\": 1\r\n    })\r\n    if (res1.status == 200) {\r\n      history.push('/app/notifications/add_notification')\r\n    }\r\n  }\r\n\r\n\r\n\r\n  // if(res1.status===200){\r\n\r\n  //   setModal2Open(true)\r\n  //   setTimeout(() => {\r\n  //       setModal2Open(false)\r\n  //       history.goBack()\r\n  //   }, 1500);\r\n  // }\r\n\r\n  //   if (id) {\r\n  //     const res1 = await axios.put(`${API_BASE_URL}/notifications/broadcast/${id}`,{\r\n  //       \"ids\": targetKeys,\r\n  //       \"notification_title\": notiTit,\r\n  //       \"description\": notiDesc,\r\n  //       // \"attachment\": img\r\n  //   })\r\n  //   if(res1.status===200){\r\n\r\n  //     setModal2Open(true)\r\n  //     setTimeout(() => {\r\n  //         setModal2Open(false)\r\n  //         history.goBack()\r\n  //     }, 1500);\r\n  //   }\r\n  //   return\r\n  //   }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"\">\r\n        <h4> <BellOutlined /> Notifications</h4>\r\n        <div style={{ gap: '8px' }} className=\"d-flex justify-content-end\">\r\n          <Button className=\"px-5\" onClick={() => history.goBack()}>Back</Button>\r\n          {/* <Button>Save As draft</Button> */}\r\n          <Button className=\"bg-primary text-white px-5\" onClick={submitFun}>Save</Button>\r\n        </div>\r\n        <div className=\"border rounded p-3 mb-4 bg-white w-100 mt-4 pt-5 d-flex justify-content-center\" style={{ minHeight: '70vh' }}>\r\n          <div className=\"w-50\">\r\n            <h5>Notification Title</h5>\r\n            <Input\r\n              value={notiTit}\r\n              placeholder=\"Title\"\r\n              onChange={(e) => setNotiTit(e.target.value)}\r\n            />\r\n            <h5 className=\"mt-3\">Notification Text</h5>\r\n            <TextArea value={notiDesc} onChange={(e) => setNotiDesc(e.target.value)} placeholder=\"Type Here...\" />\r\n            {/* <ReactQuill\r\n              style={{ height: '300px' }} modules={{\r\n                toolbar: [\r\n                  [{ 'header': [1, 2, 3, false] }],\r\n                  ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n                  [{ 'list': 'ordered' }, { 'list': 'bullet' }, { 'indent': '-1' }, { 'indent': '+1' }],\r\n                  ['link', 'image', 'video'],\r\n                  ['clean']\r\n                ],\r\n              }} theme=\"snow\" value={notiText} onChange={setNotiText} /> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddBroadcast;\r\n"],"sourceRoot":""}